@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--accent-indigo: #3730a3; /* deep indigo */
	--accent-indigo-600: #4f46e5;
	--accent-indigo-500: #6366f1;
	--accent-indigo-700: #4f46e5;
	--muted-700: #374151;
	--card-bg: #ffffff;
	--surface: #fbfbfb;
	--brand-900: #0b1220;
	--brand-600: #334155;
	--muted-500: #6b7280;
	--muted-600: #4b5563;
	--elev-1: 0 10px 30px rgba(2,6,23,0.05);
	--muted-400: #9ca3af;

	/* Pill surface: keep week pills visually identical across light/dark per user's request */
	--pill-bg: #f6f7fb;
}

/* Dark mode variable overrides -- activated when <html> has the 'dark' class */
html.dark {
	--accent-indigo: #818cf8; /* lighter indigo for contrast */
	--accent-indigo-600: #6366f1;
	--accent-indigo-500: #6366f1;
	--accent-indigo-700: #4338ca;
	--muted-700: #cbd5e1;
	--card-bg: #0b1220; /* deep surface for cards */
	--surface: #071024; /* page background */
	--brand-900: #e6eefb;
	--brand-600: #c7d2fe;
	--muted-500: #9ca3af;
	--muted-600: #94a3b8;
	--elev-1: 0 6px 18px rgba(2,6,23,0.6);
	--muted-400: #94a3b8;

	/* Keep week pills identical across themes by keeping the pill surface constant */
	--pill-bg: #f6f7fb;
}

/* readable muted token for utility classes used in components */
:root {
	--muted-700: #374151;
}
html.dark {
	--muted-700: #cbd5e1;
}

/* Dark-mode base element rules */
html.dark, html.dark body {
	background: var(--surface);
	color: var(--brand-900);
}

/* Ensure cards and panels invert to dark surface in dark mode */
.dark .card, .dark .modal-dialog, .dark .modal-panel, .dark .cozy {
	background: var(--card-bg) !important;
	color: var(--brand-900) !important;
	border-color: rgba(255,255,255,0.04);
}

/* Adjust muted text in dark to be readable */
.dark .muted, .dark .muted-sm, .dark .muted-600 { color: var(--muted-600) !important; }

/* Make utility backgrounds adapt */
.dark .kpi-chip-grad-ev { background: linear-gradient(135deg,#4f46e5,#3730a3); }
.dark .kpi-chip-grad-co { background: linear-gradient(135deg,#059669,#0369a1); }
.dark .kpi-chip-grad-up { background: linear-gradient(135deg,#f97316,#dc2626); }

/*
	Tailwind utility overrides for dark mode.
	Many components use `bg-white`, `border-gray-*`, `text-gray-*` utility classes
	which do not automatically follow our CSS variables. Add a small set of
	high-impact overrides so existing markup adapts to the global dark theme
	without changing each component.
*/
html.dark .bg-white,
html.dark .bg-white\/95,
html.dark .bg-white\/10,
html.dark .bg-white\/5,
html.dark .bg-white\/40,
html.dark .bg-white\/50 {
	background-color: var(--card-bg) !important;
}

/* common semi-transparent utilities */
html.dark .bg-slate-50\/50,
html.dark .bg-white\/5 {
	background-color: rgba(255,255,255,0.04) !important;
}

/* Hover utility variants (escaped) */
html.dark .hover\:bg-white\/40:hover {
	background-color: rgba(255,255,255,0.08) !important;
}

/* Borders: map light borders to subtle light-on-dark strokes */
html.dark .border-gray-100,
html.dark .border-gray-200,
html.dark .border-slate-200,
html.dark .ring-black\/5 {
	border-color: rgba(255,255,255,0.04) !important;
}

/* Additional high-impact utility remaps used across the app (dark only).
   These cover a few more Tailwind classes that appear in many pages so we
   don't need to change a lot of component markup. Keep them narrowly
   targeted to only apply when html.dark is present. */
html.dark .bg-slate-50,
html.dark .bg-slate-50\/50 {
	background-color: rgba(255,255,255,0.02) !important;
}

/* Map gray utilities used by tables and small panels to subtle dark tints */
html.dark .bg-gray-50,
html.dark .bg-gray-100,
html.dark .bg-gray-50\/50 {
    background-color: rgba(255,255,255,0.02) !important;
}

/* hover variants commonly used on list items and chips */
html.dark .hover\:bg-slate-50:hover,
html.dark .hover\:bg-white\/6:hover {
	background-color: rgba(255,255,255,0.02) !important;
}

/* common border variants (including fractional opacity variants) */
html.dark .border-slate-100,
html.dark .border-slate-200\/60,
html.dark .border-slate-200,
html.dark .border {
	border-color: rgba(255,255,255,0.04) !important;
}

/* Slate/text utilities mapped to our theme tokens */
html.dark .text-slate-900,
html.dark .text-slate-800 { color: var(--brand-900) !important; }
html.dark .text-slate-700,
html.dark .text-slate-600 { color: var(--muted-700) !important; }
html.dark .text-slate-400 { color: rgba(255,255,255,0.6) !important; }

/* Generic small surfaces (cards, buttons) that still use bg-white */
html.dark .btn, html.dark .button, html.dark .card, html.dark .cozy, html.dark .modal-panel {
	background: var(--card-bg) !important;
	color: var(--brand-900) !important;
}

/* Status badges (info/warning/success) often use bg-*-50 + text-*-800 */
html.dark .bg-blue-50 { background-color: rgba(59,130,246,0.06) !important; color: var(--brand-900) !important; }
html.dark .bg-green-50 { background-color: rgba(16,185,129,0.06) !important; color: var(--brand-900) !important; }
html.dark .bg-red-50 { background-color: rgba(239,68,68,0.06) !important; color: var(--brand-900) !important; }
html.dark .bg-yellow-50 { background-color: rgba(250,204,21,0.06) !important; color: var(--brand-900) !important; }

/* subtle transparencies used in event labels */
html.dark .bg-white\/10 { background-color: rgba(255,255,255,0.06) !important; }
html.dark .bg-white\/6 { background-color: rgba(255,255,255,0.06) !important; }

/* small buttons that use blue text on light backgrounds should invert in dark */
html.dark .text-blue-700, html.dark .text-blue-800 { color: var(--brand-600) !important; }

/* Text utility remaps so `text-gray-900` used in many places picks up the
	 theme's foreground color (brand-900 variable is inverted in dark mode). */
html.dark .text-gray-900 { color: var(--brand-900) !important; }
html.dark .text-gray-700 { color: var(--muted-700) !important; }
html.dark .text-gray-600 { color: var(--muted-600) !important; }

/* Inputs / panels using bg-white should also look like cards */
html.dark input,
html.dark textarea,
html.dark select,
html.dark .input,
html.dark .form-control {
	background: var(--card-bg) !important;
	color: var(--brand-900) !important;
	border-color: rgba(255,255,255,0.04) !important;
}

/* Keep specific selects visually light even in dark mode (closed control surface) */
html.dark .force-light-select {
    background: #ffffff !important;
    color: #0b1220 !important; /* brand dark text */
    border-color: rgba(0,0,0,0.06) !important;
}

/* Stronger global dark-mode form & table color mappings to avoid black text
   on native controls and table cells when the html.dark class is present. */
html.dark input::-webkit-input-placeholder,
html.dark textarea::-webkit-input-placeholder,
html.dark select::-webkit-input-placeholder {
	color: rgba(255,255,255,0.56) !important;
}

html.dark input,
html.dark textarea,
html.dark select,
html.dark .input,
html.dark .form-control,
html.dark .select,
html.dark .dropdown,
html.dark .px-2,
html.dark .px-3 {
	background: var(--card-bg) !important;
	color: rgba(255,255,255,0.92) !important;
	border-color: rgba(255,255,255,0.06) !important;
}

/* Validation and small helpers */
.form-error { color: #b91c1c; font-size: 13px; margin-top: 6px; }
.form-control[disabled], .btn[disabled] { opacity: 0.6; pointer-events: none; }

/* Modal visuals: backdrop, panel, sizes, header/footer */
.modal-backdrop {
	position: fixed;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	background: rgba(2,6,23,0.5);
	z-index: 60;
	padding: 24px;
}
.modal-panel {
	width: 100%;
	max-width: 820px;
	background: var(--card-bg);
	color: var(--brand-900);
	border-radius: 12px;
	box-shadow: var(--elev-1);
	overflow: hidden;
	display: flex;
	flex-direction: column;
}
.modal-sm { max-width: 420px; }
.modal-md { max-width: 820px; }
.modal-lg { max-width: 1100px; }
.modal-full { width: 100%; max-width: 1200px; height: 100%; border-radius: 0; }
.modal-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 8px;
	padding: 16px 20px;
	border-bottom: 1px solid rgba(0,0,0,0.04);
}
.modal-body { padding: 16px 20px; overflow: auto; }
.modal-footer { padding: 12px 20px; border-top: 1px solid rgba(0,0,0,0.04); display: flex; justify-content: flex-end; gap: 8px; }
.modal-close { background: transparent; border: none; font-size: 16px; cursor: pointer; }
.modal-panel .card { margin-bottom: 8px; }

/* Dark-mode friendly overrides */
html.dark .modal-backdrop { background: rgba(2,6,23,0.6); }
html.dark .modal-panel { background: var(--card-bg); color: var(--brand-900); border: 1px solid rgba(255,255,255,0.04); }
html.dark .modal-header, html.dark .modal-footer { border-color: rgba(255,255,255,0.04); }

/* Two-column modal layout for modules-style content */
.modal-two-col { display: flex; gap: 18px; }
.modal-two-col aside { border-right: 1px solid rgba(0,0,0,0.04); padding-right: 18px; }
html.dark .modal-two-col aside { border-right-color: rgba(255,255,255,0.04); }

/* Native selects and options can render with dark text â€” force them to light */
html.dark select, html.dark option {
	color: rgba(255,255,255,0.92) !important;
	background: var(--card-bg) !important;
}

/* WebKit-specific pseudo-elements for date/time controls often keep dark text; force them light */
html.dark input[type="date"]::-webkit-datetime-edit,
html.dark input[type="date"]::-webkit-datetime-edit-text,
html.dark input[type="date"]::-webkit-datetime-edit-month-field,
html.dark input[type="date"]::-webkit-datetime-edit-day-field,
html.dark input[type="date"]::-webkit-datetime-edit-year-field,
html.dark input[type="time"]::-webkit-datetime-edit,
html.dark input[type="time"]::-webkit-datetime-edit-text {
	color: rgba(255,255,255,0.92) !important;
	background: transparent !important;
}

/* Firefox uses different internal pseudo elements for date/time; ensure the visible text is light */
html.dark input[type="date"],
html.dark input[type="time"] {
	color: rgba(255,255,255,0.92) !important;
	background: var(--card-bg) !important;
}

/* Extra specificity for select dropdown options across browsers */
html.dark select option,
html.dark select::-ms-expand,
html.dark select::-ms-value {
	color: rgba(255,255,255,0.92) !important;
	background: var(--card-bg) !important;
}

/* Tables: ensure cell text is light in dark mode and hovered rows don't go white */
html.dark table, html.dark thead, html.dark tbody, html.dark tr, html.dark td, html.dark th {
	color: rgba(255,255,255,0.92) !important;
}

html.dark table tbody tr:hover {
	background: rgba(255,255,255,0.02) !important;
}


/* Reset baseline spacing and box sizing */
html, body { box-sizing: border-box; margin: 0; padding: 0; }
*, *:before, *:after { box-sizing: inherit; }

/* Prefer Inter when available */
body { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }



/* Calm Cozy preview tokens */
:root.cozy {
	--surface: #f6f5ff; /* very light lavender */
	--card-bg: #fffafc; /* warm white */
	--accent-indigo: #7c3aed; /* gentle purple */
	--muted-700: #525252;
}

/* Sanity overrides: explicitly turn off any backdrop blurs that leak through utilities
	 or third-party components. Use !important to override compiled utility classes. */
html, body, :root {
	-webkit-backdrop-filter: none !important;

/* Add a small gap under the main nav so the next card doesn't butt up against it */
.landing-nav + .container, /* direct sibling */
.landing-nav + section.container,
.landing-hero { margin-top: 14px; }

/* Widget / dashboard dark-mode refinements (scoped) */
/* Keep these rules narrowly targeted so other components remain unchanged. */
.agenda-card, .aside-widget, .kpi-card, .hero-panel, .stat-tile, .event-card-list-item, .event-card {
	background: var(--card-bg);
	border-color: rgba(2,6,23,0.06);
}

/* Dark mode specific: make widget surfaces deeper and remove harsh white highlights */
html.dark .agenda-card,
html.dark .aside-widget,
html.dark .kpi-card,
html.dark .hero-panel,
html.dark .stat-tile,
html.dark .event-card-list-item,
html.dark .event-card {
	background: linear-gradient(180deg, rgba(10,14,24,0.72), rgba(6,8,18,0.9));
	border-color: rgba(255,255,255,0.04) !important;
	box-shadow: 0 8px 22px rgba(2,6,23,0.5);
	color: var(--brand-900) !important;
}

/* Reduce inner white glows on header bands and modal panels inside widgets */
html.dark .agenda-card > h3, html.dark .hero-panel, html.dark .modal-panel { background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-color: rgba(255,255,255,0.03); }

/* KPI pill: keep vibrancy but slightly toned for dark background */
.kpi-pill { box-shadow: 0 8px 20px rgba(79,70,229,0.10); }
html.dark .kpi-pill { background: linear-gradient(90deg, rgba(91,33,182,0.22), rgba(67,56,202,0.18)); box-shadow: 0 6px 14px rgba(4,6,14,0.28); }

/* Compact session card tweak: darker subtle overlay in dark mode */
.compact-session { transition: background 160ms ease, border-color 120ms ease; }
html.dark .compact-session { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-color: rgba(255,255,255,0.03); }

	backdrop-filter: none !important;
	filter: none !important;
}

/* Tailwind/utility-style blur overrides (backdrop-blur-*, backdrop-blur, etc) */
[class*="backdrop-blur"] {
	-webkit-backdrop-filter: none !important;
	backdrop-filter: none !important;
}

/* Next.js built-in dialog/backdrop selectors used in .next bundle */
[data-nextjs-dialog-backdrop], [data-nextjs-dialog-backdrop-fixed] {
	-webkit-backdrop-filter: none !important;
	backdrop-filter: none !important;
	background-color: rgba(0,0,0,0.12) !important; /* subtle dim */
	pointer-events: auto;
	z-index: 2147483645 !important;
}

/* Ensure our modal backdrop doesn't use blur and sits under the panel */
.modal-backdrop {
	-webkit-backdrop-filter: none !important;
	backdrop-filter: none !important;
	filter: none !important;
	background: rgba(7,10,20,0.12) !important;
}

/* modal-container uses a pseudo-element for dimming without an extra DOM node */
.modal-container {
	position: fixed;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 9999;
}
.modal-container::before {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(180deg, rgba(7,10,20,0.06), rgba(7,10,20,0.12));
	pointer-events: auto;
}

/* Make dialog panels and modal-panel clearly above backdrops */
.modal-panel, [data-nextjs-dialog-content], [data-nextjs-dialog] {
	z-index: 2147483646 !important;
}


.cozy-hero {
	background: linear-gradient(180deg,#fef3c7,#fce7f3 60%);
	color: #3f3d56;
}

/* Landing page styles (modern corporate) */
.landing-root { background: linear-gradient(180deg,var(--surface),var(--card-bg)); min-height: 100vh; color: var(--brand-900); overflow-x: clip; }
.container { max-width: 1200px; margin-left: auto !important; margin-right: auto !important; padding: 0 24px !important; box-sizing: border-box; }
.landing-nav { padding: 22px 0; background: transparent; }
.landing-nav { position: sticky; top: 0; z-index: 40; }
.landing-nav::after { content: ''; display:block; height:1px; background: linear-gradient(90deg, rgba(2,6,23,0.03), rgba(2,6,23,0)); position: absolute; left:0; right:0; bottom:0; }
.landing-nav .brand { font-weight:700; color: var(--brand-900); text-decoration: none; font-size: 1.05rem; }

/* Polished navigation row */
.nav-row { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.nav-left { display:flex; align-items:center; gap:12px; }
.brand-logo { display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:10px; overflow:visible; flex:0 0 40px; }
.brand-text { margin-left:8px; font-weight:700; color:var(--brand-900); }

.brand-block { display:flex; align-items:center; gap:12px; min-width:0; }
.hero-brand { display:flex; align-items:center; gap:12px; }
.brand-text-wrap { display:flex; flex-direction:column; justify-content:center; }
.nav-left.brand-block { align-items: center; }
.brand-logo .avatar { display:flex; align-items:center; justify-content:center; }
.brand-mark { width:40px; height:40px; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:800; }

.muted { color: var(--muted-600); }
.muted-sm { color: var(--muted-500); font-size:0.92rem; }
.cozy { background: var(--card-bg); border-radius: 12px; box-shadow: var(--elev-1); }
.card-accent { border-left: 4px solid rgba(79,70,229,0.08); }

.kpi-chip-grad-ev { background: linear-gradient(135deg,#6366f1,#4f46e5); }
.kpi-chip-grad-co { background: linear-gradient(135deg,#10b981,#06b6d4); }
.kpi-chip-grad-up { background: linear-gradient(135deg,#f97316,#f43f5e); }

.stat-card { background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); border-radius:12px; }
.corporate-card { padding:14px; }

.mini-event { display:flex; align-items:center; gap:10px; padding:8px 0; border-bottom:1px dashed rgba(15,23,42,0.03); }
.mini-chip { width:36px; height:36px; border-radius:8px; display:flex; align-items:center; justify-content:center; color:white; font-weight:700; }
.agenda-empty { padding:18px; color: var(--muted-500); }

/* Small utility helpers used across the overview */
.ml-2 { margin-left: 6px; }
.ml-3 { margin-left: 10px; }
.mt-1 { margin-top: 6px; }

/* Grades page styles (site-consistent, theme-safe) */
.grades-root {
	background: var(--surface);
	padding: 40px 0;
}
.grades-root > * {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 18px;
	box-sizing: border-box;
}
.grades-root .courses-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
	gap: 28px;
	align-items: start;
	width: 100%;
}
.grades-root .card { padding: 0; overflow: visible; }
.grades-root .card > div:first-child { padding: 24px; }
.grades-root .card > .padding-body { padding: 24px; }
.grades-root .progress { height: 12px; border-radius: 9999px; background: rgba(2,6,23,0.06); }
.grades-root .progress-bar { height: 100%; border-radius: 9999px; transition: width 0.3s; }
.grades-root .badge { font-size: 13px; padding: 6px 10px; }

@media (max-width: 900px) {
	.grades-root .courses-grid { grid-template-columns: 1fr; gap: 18px; }
}

/* Dark mode overrides for grades page progress/bg tokens */
html.dark .grades-root .progress { background: rgba(255,255,255,0.04); }
html.dark .grades-root .badge { background: rgba(255,255,255,0.02); color: rgba(255,255,255,0.92); }

/* Utility: full-bleed section that keeps inner content centered but allows
	 edge-aligned elements (e.g., hero + aside) to span the same visual width */
.full-bleed {
	width: 100vw;
	margin-left: calc(50% - 50vw);
	margin-right: calc(50% - 50vw);
	box-sizing: border-box;
}

/* Provide an inner container that matches the standard .container max width */
.full-bleed > .container-inner {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 18px;
	box-sizing: border-box;
}

/* Polished Grades components */
.grades-header { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom: 18px; }
.grades-title { font-size: 1.6rem; font-weight: 800; margin: 0; }
.grades-sub { color: var(--muted-600); }

.grade-summary { display:flex; align-items:center; justify-content:space-between; gap:12px; padding: 20px; }
.grade-summary .summary-left { display:flex; gap:12px; align-items:center; }
.grade-summary .summary-right { display:flex; gap:10px; align-items:center; }

.grades-layout { display:grid; grid-template-columns: 1fr 360px; gap: 24px; align-items:start; }
@media (max-width: 1000px) { .grades-layout { grid-template-columns: 1fr; } .grades-right { position: static; } }

.grades-right { position: sticky; top: 82px; align-self: start; }

.course-card-inner { display:flex; gap:16px; align-items:flex-start; padding: 20px; }
.course-card-main { flex:1; min-width:0; }
.course-card-meta { width:220px; display:flex; flex-direction:column; gap:10px; }

.progress-track { height:10px; border-radius:9999px; background: rgba(15,23,42,0.04); overflow:hidden; }
.progress-fill { height:100%; transition: width 300ms; background: linear-gradient(90deg, var(--accent-indigo-600), var(--accent-indigo)); }

.course-badges { display:flex; gap:8px; flex-wrap:wrap; padding: 0 20px 20px 20px; }
.course-badges .badge { background: rgba(15,23,42,0.04); color: var(--muted-600); }

.grade-item-pill { display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:8px; background: rgba(15,23,42,0.04); color: var(--muted-600); font-size:13px; }

/* Buttons & badge refinements to match modern tone */
.btn { border-radius: 8px; padding: 8px 12px; font-weight:600; }
.btn-primary { background: linear-gradient(90deg,var(--accent-indigo-600),var(--accent-indigo)); color: white; }
.btn-ghost { background: transparent; border: 1px solid rgba(15,23,42,0.04); }

html.dark .progress-track { background: rgba(255,255,255,0.04); }
html.dark .progress-fill { background: linear-gradient(90deg, #818cf8, #6366f1); }

/* Modern polish */
.card { border-radius: 12px; transition: transform 160ms ease, box-shadow 160ms ease; }
.card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(2,6,23,0.08); }
.cozy { padding: 0; }

.grades-right .card { padding: 16px; }

.grades-title { font-size: 1.15rem; font-weight: 700; margin: 0 0 6px 0; }
.grades-sub { color: var(--muted-600); font-size: 13px; }

/* Fine-grained spacing for small screens */
@media (max-width: 640px) {
	.grades-layout { gap: 16px; }
	.course-card-inner { padding: 14px; }
}

/* Minimal clean grades styling */
.grades-clean { background: var(--surface); padding: 40px 0; }
.grades-clean .clean-card { background: var(--card-bg); border: 1px solid rgba(2,6,23,0.04); border-radius: 12px; padding: 12px; }
.grades-clean .clean-card-body { display:flex; align-items:center; justify-content:space-between; }
.grades-clean .clean-course-title { font-size: 1.05rem; margin: 0; font-weight:700; }
.grades-clean .clean-course-meta { color: var(--muted-600); font-size: 13px; }
.grades-clean .clean-progress { display:flex; align-items:center; gap:12px; margin-top:10px; }
.grades-clean .clean-progress-track { width: 160px; height:10px; border-radius:9999px; background: rgba(15,23,42,0.04); overflow:hidden; }
.grades-clean .clean-progress-fill { height:100%; background: linear-gradient(90deg,var(--accent-indigo-600),var(--accent-indigo)); }
.grades-clean .clean-badge { font-weight:700; }
.grades-clean .clean-summary { background: var(--card-bg); border: 1px solid rgba(2,6,23,0.04); border-radius: 12px; padding: 18px; display:flex; align-items:center; justify-content:space-between; gap:12px; }

.grades-clean .clean-card { transition: transform .18s ease, box-shadow .18s ease; box-shadow: 0 6px 18px rgba(11,15,26,0.04); }
.grades-clean .clean-card:hover { transform: translateY(-6px); box-shadow: 0 16px 40px rgba(11,15,26,0.08); }
.grades-clean .clean-card:focus-within { outline: 2px solid rgba(99,102,241,0.12); }
.grades-clean .clean-summary-label { font-size: 13px; color: var(--muted-600); }
.grades-clean .clean-summary-gpa { font-size: 28px; font-weight:800; color: var(--text); }
.grades-clean .clean-summary-actions { display:flex; gap:8px; }

.grades-clean .btn { transition: transform .12s ease, box-shadow .12s ease; }
.grades-clean .btn:focus { outline: 3px solid rgba(59,130,246,0.15); }

/* Dark mode tweaks */
html.dark .grades-clean .clean-card { box-shadow: 0 6px 18px rgba(2,6,23,0.6); }
html.dark .grades-clean .clean-summary { border-color: rgba(255,255,255,0.04); }
html.dark .grades-clean .clean-progress-track { background: rgba(255,255,255,0.04); }
html.dark .grades-clean .clean-badge { color: var(--muted-300); }

/* Modal styles used across the app */
.modal-backdrop { position: fixed; inset: 0; background: rgba(2,6,23,0.45); display:flex; align-items:center; justify-content:center; z-index: 9999; padding: 24px; }
.modal-panel { background: var(--card-bg); border-radius: 12px; width: 100%; max-width: 760px; box-shadow: 0 30px 60px rgba(2,6,23,0.18); border: 1px solid rgba(2,6,23,0.06); }
.modal-panel.cozy { padding: 18px; }
.modal-header { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom: 12px; }
.modal-close { background:transparent; border:none; font-size:16px; cursor:pointer; padding:6px; border-radius:6px; }
.modal-close:focus { outline: 3px solid rgba(99,102,241,0.15); }
.modal-body { color: var(--text); }

html.dark .modal-backdrop { background: rgba(2,6,23,0.7); }
html.dark .modal-panel { border-color: rgba(255,255,255,0.04); box-shadow: 0 20px 40px rgba(2,6,23,0.6); }


/* Typography & card spacing */
.grades-clean h1 { font-size: 1.6rem; margin: 0; font-weight:800; }
.grades-clean .clean-course-title { font-size: 1rem; font-weight:700; margin: 0 0 6px; }
.grades-clean .clean-course-meta { font-size: 13px; color: var(--muted-600); margin-bottom: 8px; }
.grades-clean .clean-card-body { display:flex; justify-content:space-between; gap:12px; align-items:center; padding: 14px; }
.grades-clean .clean-card-main { flex:1; }
.grades-clean .clean-card-actions { display:flex; gap:8px; align-items:center; }
.grades-clean .clean-badge { background: transparent; font-weight:700; }


/* Layout for clean grades page */
.grades-clean .grades-layout { display:flex; gap:28px; align-items:flex-start; max-width: 1200px; margin: 0 auto; }
.grades-clean .grades-left { flex: 1 1 720px; display:flex; flex-direction:column; gap:12px; }
.grades-clean .grades-right { width: 340px; position:sticky; top:28px; height:fit-content; }
.grades-clean .actions { display:flex; gap:8px; align-items:center; }
.grades-clean .btn { background: transparent; border: 1px solid rgba(2,6,23,0.06); padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; }
.grades-clean .btn.primary { background: linear-gradient(90deg,var(--accent-indigo-600),var(--accent-indigo)); color: white; border: none; }
.grades-clean .empty { text-align:center; padding:36px; color:var(--muted-600); border-radius:8px; }

@media (max-width: 900px) {
	.grades-clean .grades-layout { flex-direction:column; padding: 0 16px; }
	.grades-clean .grades-right { position:relative; width:100%; top:auto; }
}




/* Grades page specific refinements */
.grades-root {
	background: var(--surface);
	padding: 36px 0;
}
.grades-root > * { max-width: 1200px; margin: 0 auto; padding: 0 18px; box-sizing: border-box; }
.grades-root .card { border-radius: 12px; background: var(--card-bg); border: 1px solid rgba(2,6,23,0.04); box-shadow: var(--elev-1); }
.grades-root .courses-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 24px; align-items: start; }
.grades-root .badge { padding: 6px 10px; border-radius: 10px; font-size: 13px; }
.grades-root .btn { padding: 8px 12px; border-radius: 8px; }
.grades-root .btn.btn-primary { background: linear-gradient(90deg,var(--accent-indigo-500),var(--accent-indigo-600)); color: white; }

/* Tiny, minimal polish: a subtle lift on hover and slight emphasis on badges/buttons.
	These are intentionally small and reversible â€” purely visual micro-adjustments. */
.grades-root .card { transition: transform 140ms ease, box-shadow 140ms ease; }
.grades-root .card:hover { transform: translateY(-4px); box-shadow: 0 12px 28px rgba(2,6,23,0.06); }
.grades-root .badge { font-weight: 600; }
.grades-root .btn { font-weight: 600; }

.mt-2 { margin-top: 10px; }
.mt-3 { margin-top: 12px; }
.flex-1 { flex:1; }
.layout-grid { display: grid; grid-template-columns: 1.6fr 1fr; gap: 18px; }
.kpi-card-body { flex: 1; }
.muted-600 { color: var(--muted-600); }

/* Additional small utilities used by overview */
.min-w-0 { min-width: 0; }
.fw-700 { font-weight: 700; }
.m-0 { margin: 0; }
.flex-row { display: flex; }
.gap-2 { gap: 8px; }
.p-3 { padding: 12px; }

.landing-nav { background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.75)); backdrop-filter: blur(6px); box-shadow: 0 6px 18px rgba(2,6,23,0.04); border-radius: 0 !important; }

/* If `.cozy` is also applied (e.g. `<header class="landing-nav cozy">`), ensure the
   top corners are not rounded so the nav sits flush at the top of the viewport. */
.landing-nav.cozy, header.landing-nav.cozy {
	border-top-left-radius: 0 !important;
	border-top-right-radius: 0 !important;
}

.nav-list { display:flex; gap:14px; align-items:center; margin:0; padding:0; list-style:none; }
.nav-link { color: var(--muted-700); text-decoration:none; padding:8px 6px; border-radius:8px; position:relative; }
.nav-link::after { content: ''; position:absolute; left:6px; right:6px; bottom:4px; height:2px; background: transparent; border-radius:2px; transition: background 160ms ease, transform 160ms ease; transform-origin:left; }
.nav-link:hover::after { background: linear-gradient(90deg, rgba(79,70,229,0.14), rgba(99,102,241,0.12)); transform: scaleX(1); }
.nav-link.muted { color: var(--muted-500); }

.nav-ctas { display:flex; gap:10px; align-items:center; margin-left:14px; }
.nav-signin { padding:8px 10px; border-radius:8px; }
.nav-cta { padding:10px 14px; border-radius:10px; }

/* Modal styles (minimal, accessible) */
.modal-portal, .modal-container { position: fixed; inset: 0; display:flex; align-items:center; justify-content:center; z-index:1200; }
.modal-overlay { position:absolute; inset:0; background: rgba(0,0,0,0.34); }
.modal-dialog, .modal-panel { position: relative; background: var(--card-bg); border-radius: 10px; box-shadow: 0 10px 30px rgba(2,6,23,0.12); width: 92%; max-width: 820px; padding: 18px; z-index: 1210; }
.modal-header { display:flex; align-items:center; gap:12px; }
.modal-close { margin-left:auto; }
.modal-body { margin-top:12px; }

/* Dashboard combined week + agenda grid (shared across light & dark) */
.dashboard-grid { display: grid; /* equal-width columns */ grid-template-columns: 1fr 1fr; gap: 28px; align-items:start; width: 100%; box-sizing: border-box; }
.container > .dashboard-grid { max-width: 1200px; margin: 0 auto; width: 100%; box-sizing: border-box; padding: 0 18px !important; }
.dashboard-grid > .agenda-card, .dashboard-grid > aside.agenda-card { width: 100%; box-sizing: border-box; }
.dashboard-week { background: transparent; }
.dashboard-agenda { background: transparent; }

/* Unified week-pill visuals: make pills identical across light and dark modes.
   Use a single canonical set of rules for background, border, color, hover and active
   rather than theme-scoped overrides. The --pill-bg token is kept the same in both
   light and dark so pills look identical as requested. */
.week-strip { display:flex; gap:8px; align-items:center; overflow-x: auto; -webkit-overflow-scrolling: touch; padding:6px 6px 8px; }
.week-pill {
	background: var(--pill-bg);
	padding:8px 12px;
	border-radius:10px;
	display: inline-flex;
	align-items: center;
	gap: 8px;
	min-width: 56px;
	text-align: center;
	transition: transform 140ms ease, box-shadow 140ms ease, background 120ms ease;
	border: 1px solid rgba(15,23,42,0.04);
	color: var(--muted-700);
}
.week-pill .week-pill-accent { width:10px; height:10px; border-radius:999px; background: rgba(79,70,229,0.12); box-shadow:none; flex-shrink:0; }
.week-pill--active .week-pill-accent, .week-strip button[aria-pressed='true'] .week-pill-accent { background: var(--accent-indigo-600); box-shadow: 0 8px 24px rgba(79,70,229,0.08); transform: translateY(-2px) scale(1.04); }
.week-pill .week-pill-main { display:flex; flex-direction:column; align-items:center; }
.week-pill .week-pill-weekday { font-size:12px; font-weight:700; color: var(--muted-700); }
.week-pill .week-pill-date { font-size:16px; font-weight:800; margin-top:4px; color: var(--muted-700); }
.week-pill .week-pill-meta { font-size:12px; margin-top:8px; color: var(--muted-500); }

/* Removed page-level overrides so page-scoped styles in `pages/overview.js` control layout. */

/* Dark-mode-only polish for week pills: keep light mode unchanged. */
html.dark .week-pill {
	background: linear-gradient(180deg, rgba(10,14,24,0.72), rgba(6,8,18,0.88));
	color: var(--brand-900);
	border: 1px solid rgba(255,255,255,0.04);
	box-shadow: 0 8px 22px rgba(2,6,23,0.5);
}
html.dark .week-pill:hover, html.dark .week-pill:focus-visible {
	transform: translateY(-2px);
	box-shadow: 0 12px 36px rgba(2,6,23,0.6);
}
html.dark .week-pill--active, html.dark .week-strip button[aria-pressed='true'] {
	background: linear-gradient(90deg, rgba(20,26,38,1), rgba(14,18,28,1));
	color: var(--brand-900);
	border: 1px solid rgba(79,70,229,0.12);
	box-shadow: 0 14px 40px rgba(2,6,23,0.6);
}

/* Additional dark-only remaps for indigo/light-blue utilities and small hoverables
   used by calendar, timetable, and the sidebar. Scope under html.dark to avoid
   any light-mode regressions. */
html.dark .bg-indigo-50 { background-color: rgba(99,102,241,0.06) !important; color: var(--brand-900) !important; }
html.dark .hover\:bg-indigo-50:hover { background-color: rgba(99,102,241,0.06) !important; }
html.dark .border-indigo-100 { border-color: rgba(99,102,241,0.06) !important; }

/* Map strong text utilities used throughout calendar/timetable to our theme foreground */
html.dark .calendar-root .text-slate-900,
html.dark .timetable-root .text-slate-900,
html.dark .text-slate-900 { color: var(--brand-900) !important; }

/* Dropdowns and small hover items often use hover:bg-white/6 or hover:bg-white/40 */
html.dark .hover\:bg-white\/6:hover, html.dark .hover\:bg-white\/40:hover { background-color: rgba(255,255,255,0.04) !important; }

/* Sidebar active nav item fix: many nav pieces rely on bg-indigo-50 on light */
html.dark .sidebar-root .bg-indigo-50 { background-color: rgba(255,255,255,0.02) !important; color: var(--brand-900) !important; }



/* right column: make the agenda card visually anchored and sticky */
.dashboard-agenda .agenda-card { position: sticky; top: 92px; }

/* make the right-hand agenda scrollable if content grows */
.dashboard-agenda .event-list { max-height: 420px; overflow: auto; padding-right: 6px; }
.dashboard-agenda .event-list::-webkit-scrollbar { width: 8px; }
.dashboard-agenda .event-list::-webkit-scrollbar-thumb { background: rgba(2,6,23,0.06); border-radius: 8px; }

/* sticky section title for agenda while scrolling */
.dashboard-agenda .section-title { position: sticky; top: 8px; background: transparent; z-index: 5; padding-top: 6px; }

/* Responsive adjustments */
@media (max-width: 900px) {
	.dashboard-grid { grid-template-columns: 1fr; }
	.modal-dialog { width: 96%; max-width: 680px; }
}


@media (max-width: 880px) {
	.hero-grid { grid-template-columns: 1fr; }
	.nav-list { display:none; }
	.nav-ctas { gap:8px; }
	.brand-text { display:none; }
}

/* Mobile menu toggle */
.nav-toggle { display:none; }
.nav-hamburger { display:none; cursor:pointer; padding:8px; border-radius:8px; color:var(--brand-600); }

@media (max-width: 880px) {
	.nav-hamburger { display:inline-flex; align-items:center; justify-content:center; }
	.nav-row { gap:8px; }
	.nav-right { position: relative; }
	.nav-list { display:block; position: absolute; top:56px; right: 12px; background: white; border-radius:10px; box-shadow: 0 12px 40px rgba(2,6,23,0.08); width: 220px; padding:10px; transform-origin: top right; opacity:0; transform: scale(.98) translateY(-6px); transition: opacity 180ms ease, transform 180ms ease; pointer-events:none; }
	.nav-list li { padding: 6px 2px; }
	.nav-list .nav-link { display:block; padding:8px 10px; }
	.nav-toggle:checked ~ .nav-list { opacity:1; transform: scale(1) translateY(0); pointer-events:auto; }
	.nav-ctas { display:flex; flex-direction:column; gap:8px; margin-top:8px; }
}
.nav-right { display:flex; gap:12px; align-items:center; }
.nav-link { color: var(--muted-700); text-decoration: none; padding: 8px 10px; border-radius: 8px; }

.hero-grid { display:grid; /* right column can shrink but not below 240px */ grid-template-columns: 1fr minmax(240px, 360px); gap: 22px; align-items: start; padding: 28px 0 18px 0; }
.landing-hero { padding-top: 40px; }
.skip-link { position: absolute; left: -999px; top: 10px; background: #0b1220; color: white; padding: 8px 12px; border-radius:6px; z-index: 999; }
.skip-link:focus { left: 20px; top: 10px; }
.hero-title { font-size: 60px; margin:0 0 12px; line-height:1.02; font-weight:800; color: var(--brand-900); letter-spacing:-0.5px; }
.hero-sub { color: var(--muted-700); max-width: 56ch; margin-bottom: 18px; }
.hero-cta { display:flex; gap:12px; margin-bottom: 16px; padding-bottom: 12px; }
.hero-bullets { margin-top: 12px; list-style: none; padding:0; display:flex; gap:12px; color:var(--muted-700); }
.hero-bullets li { background: rgba(15,23,42,0.03); padding:8px 12px; border-radius:8px; font-size:0.95rem; }

.hero-right .hero-mock { padding: 18px; border-radius: 12px; background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); box-shadow: var(--elev-1); }
.hero-mock { position: relative; overflow: hidden; }
.hero-blob { position: absolute; left: -10%; top: -30%; width: 140%; height: 120%; pointer-events: none; transform: translateZ(0); }
.mock-top { font-weight:700; color:var(--brand-600); margin-bottom:8px; }
.mock-list .mock-item { display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px dashed rgba(2,6,23,0.03); }
.mock-list .mock-item.muted { color: var(--muted-500); border-bottom:none; font-size:0.95rem; }

/* Strong hero and KPI styles for corporate landing */
.overview-hero { background: linear-gradient(180deg, var(--hero-gradient-from, rgba(248,250,252,0.6)), var(--card-bg)); padding: 18px 12px; border-radius: 10px; box-shadow: 0 6px 18px rgba(2,6,23,0.04); }
.hero-title { font-size: 48px; line-height: 1.04; font-weight: 800; color: var(--brand-900); margin: 0 0 8px 0; }
.modal-header--creative { display:flex; align-items:center; gap:12px; }
.modal-brand-mark { width:44px; height:44px; border-radius:10px; background: linear-gradient(90deg,var(--accent-indigo-600),#6366f1); color: #fff; display:flex; align-items:center; justify-content:center; font-weight:900; font-size:16px; }
.modal-title-wrap h3 { font-size:20px; margin:0; }
.modal-sub { font-size:12px; color: var(--muted-600); }

/* entrance animation for modal */
.modal-dialog { transform: translateY(-8px) scale(.992); opacity:0; animation: modalIn 220ms ease forwards; }
@keyframes modalIn { to { transform: translateY(0) scale(1); opacity:1; } }

/* slightly larger nav items */
.nav-link { padding: 10px 12px; }
.nav-ctas .btn { padding: 12px 16px; }
.hero-sub { color: var(--muted-700); font-size: 15px; max-width: 64ch; margin-top: 8px; }
.hero-cta { display:flex; gap: 10px; margin-top: 12px; }

.kpi-row { display:flex; gap:8px; align-items:stretch; margin-top: 6px; }
.kpi-card { flex:1; padding:10px 12px; border-radius:10px; background: var(--card-bg); border:1px solid rgba(15,23,42,0.04); display:flex; gap:10px; align-items:center; }
.kpi-chip { width:40px; height:40px; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:800; background: linear-gradient(135deg, rgba(99,102,241,0.18), rgba(79,70,229,0.16)); box-shadow: 0 6px 12px rgba(99,102,241,0.06); }
.kpi-value { font-size:16px; font-weight:800; color:var(--brand-900); }
.kpi-label { color:var(--muted-600); font-weight:600; font-size:11px; }

.overview-panel { display:grid; /* allow right column to be flexible but capped */ grid-template-columns: 1fr minmax(360px, 580px); gap: 20px; align-items: start; padding: 18px 0; }
.hero-panel { background: var(--card-bg); border-radius: 12px; padding: 20px; box-shadow: 0 8px 20px rgba(2,6,23,0.04); display:grid; grid-template-columns: 1fr auto; gap: 18px; align-items: start; }
.hero-brand { display:flex; align-items:center; gap:18px; }
.hero-brand .brand-mark { width:72px; height:72px; border-radius:12px; font-size:20px; }
.hero-intro { max-width: 48ch; }
.hero-intro h1 { font-size: 42px; margin:0 0 8px; line-height:1.05; font-weight:800; }
.hero-intro p { color: var(--muted-600); margin:0 0 16px; }
.stats-row { display:flex; gap:12px; flex-direction:column; }
.stat-tile { display:flex; gap:12px; align-items:center; padding:14px; border-radius:12px; background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); width:220px; max-width:100%; box-sizing: border-box; }
.stat-tile .stat-number { font-size:26px; font-weight:900; color:var(--brand-900); }
.stat-tile .stat-label { font-size:12px; color:var(--muted-600); font-weight:700; text-transform:uppercase; letter-spacing:0.6px; }
.stat-small { font-size:13px; color:var(--muted-600); }

.agenda-card { border-radius:12px; padding:12px; background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); box-shadow: 0 8px 28px rgba(2,6,23,0.04); }
.agenda-header { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
.agenda-header .muted-sm { margin-right: 6px; }
.agenda-header input[type="checkbox"] { width: 18px; height: 18px; }

/* compact toggle spacing */
.agenda-header { gap: 10px; }
.agenda-empty { padding:18px; color: var(--muted-500); text-align:center; }

/* subtle heading bar for agenda blocks */
.agenda-card > h3, .dashboard-agenda > h3 { margin: 0 0 8px 0; padding: 8px 10px; border-radius: 8px; background: linear-gradient(90deg, rgba(99,102,241,0.04), rgba(99,102,241,0.02)); display:inline-block; font-size:1rem; }

/* tighter event card inside agenda */
.dashboard-agenda .event-card { margin-bottom: 10px; }
.dashboard-agenda .event-list > div { border-bottom: 1px solid rgba(2,6,23,0.04); padding-bottom: 10px; margin-bottom: 10px; }

/* compact-dense modifier for event cards */
.event-card.compact-dense { padding:8px; border-radius:10px; }
.event-card.compact-dense .event-title { font-size:14px; }

.week-strip { display:flex; gap:8px; align-items:center; overflow-x: auto; -webkit-overflow-scrolling: touch; padding:6px 6px 8px; }
.html:not(.dark) .week-strip button.week-pill,
.html:not(.dark) .week-pill {
	background: var(--card-bg) !important; /* light-mode default */
	color: var(--muted-700) !important;
	border: 1px solid rgba(2,6,23,0.04) !important;
	box-shadow: none !important;
}
.week-pill { background: rgba(15,23,42,0.02); padding:6px 10px; border-radius:10px; min-width:52px; text-align:center; transition: transform 140ms ease, box-shadow 140ms ease; }
.week-pill:hover { transform: translateY(-3px); box-shadow: 0 8px 18px rgba(2,6,23,0.04); }
.week-pill.active { background: var(--accent-indigo-600); color: white; box-shadow: 0 8px 20px rgba(79,70,229,0.08); }
/* Protect active pill from hover washout: keep its background and shadow intact on hover */
.week-pill.active:hover {
	/* Allow the active pill to lift and show shadow like other pills, but keep its color/gradient */
	transform: translateY(-4px);
	box-shadow: 0 18px 48px rgba(99,102,241,0.18);
	background: linear-gradient(90deg,var(--accent-indigo-600),#6366f1) !important; /* ensure gradient remains */
	color: white !important;
}

/* Ensure the active pill background is opaque so underlying hover backgrounds don't bleed through */
.week-pill.active {
	background-clip: padding-box;
}

/* Dashboard header & utilities to replace inline styles in overview.js */
.dashboard-header { display:flex; align-items:center; gap:12px; }
.dashboard-title { margin: 0 8px 0 0; font-size: 1.25rem; font-weight:700; color: var(--brand-900); }
.dashboard-sub { color: var(--muted-600); }
.ml-auto { margin-left: auto; }
.mb-2 { margin-bottom: 8px; }
.mb-3 { margin-bottom: 12px; }
.mt-1 { margin-top: 6px; }
.mt-2 { margin-top: 10px; }
.mt-3 { margin-top: 18px; }

/* Modal actions layout used inside the Modal children */
.modal-actions { display:flex; flex-direction:column; gap:10px; }

/* Event list spacing utility */
.event-list > div { margin-bottom: 10px; }

/* Styles for the widgets moved into the Upcoming aside */
.aside-widgets { margin-top: 12px; display: flex; flex-direction: column; gap: 12px; }
.aside-widget { background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); padding: 12px; border-radius: 10px; box-shadow: 0 8px 24px rgba(2,6,23,0.04); }
.section-block { border-top: none; }
.widget-title { font-weight:700; color:var(--brand-900); margin-bottom:6px; }
.aside-widget .widget-header {
	display:flex; align-items:center; justify-content:space-between; gap:8px; padding-bottom:8px; border-bottom: 1px solid rgba(2,6,23,0.04); margin-bottom:8px;
}
.widget-row { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.widget-main { font-weight:700; font-size: 15px; }
.widget-kpi { text-align:right; min-width:72px; }
.widget-kpi-number { font-size:20px; font-weight:900; color:var(--brand-900); }

/* KPI pill for compact numeric badges */
.kpi-pill { display:inline-flex; align-items:center; justify-content:center; min-width:44px; height:36px; padding: 6px 10px; border-radius:999px; background: linear-gradient(90deg, rgba(99,102,241,0.18), rgba(79,70,229,0.16)); color: white; font-weight:800; box-shadow: 0 6px 12px rgba(79,70,229,0.06); }
.widget-att-rate { font-size:18px; font-weight:800; }
.widget-sessions { display:flex; flex-direction:column; gap:8px; margin-top:8px; max-height:220px; overflow:auto; padding-right:6px; }
.widget-sessions::-webkit-scrollbar { width:8px; }
.widget-sessions::-webkit-scrollbar-thumb { background: rgba(2,6,23,0.06); border-radius:8px; }
.compact-session { display:flex; gap:8px; align-items:center; padding:8px; border-radius:8px; background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,250,0.6)); border: 1px solid rgba(2,6,23,0.03); }
.session-body { flex:1; }
.session-date { font-weight:700; }

/* mini chip used for attendance status */
.mini-chip { width:36px; height:36px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center; color:white; font-weight:700; box-shadow: 0 6px 14px rgba(16,24,40,0.06); }

/* Dark mode widget adjustments */
html.dark .aside-widget { background: linear-gradient(180deg, rgba(11,18,32,0.64), rgba(7,10,20,0.86)); border-color: rgba(255,255,255,0.04); box-shadow: 0 8px 20px rgba(2,6,23,0.6); }
html.dark .aside-widget .widget-title, html.dark .aside-widget .widget-main { color: var(--brand-900); }
html.dark .kpi-pill { background: linear-gradient(90deg, rgba(91,33,182,0.20), rgba(67,56,202,0.16)); box-shadow: 0 6px 14px rgba(4,6,14,0.36); }

/* Make brand logo slightly less rounded on navbar to reduce competing curves */
.landing-nav .brand-logo { border-radius: 6px !important; }
html.dark .compact-session { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.03); }

/* Invert remaining white surfaces inside widget areas for a smoother dark-mode
	 look. These selectors are intentionally scoped to dashboard/aside/widget
	 surfaces to avoid changing global light-mode layout. */
html.dark .agenda-card,
html.dark .event-card,
html.dark .event-item,
html.dark .cozy,
html.dark .card,
html.dark .aside-widget {
	background: linear-gradient(180deg, rgba(8,12,20,0.72), rgba(6,8,18,0.88)) !important;
	color: var(--brand-900) !important;
	border-color: rgba(255,255,255,0.04) !important;
	box-shadow: 0 10px 30px rgba(2,6,23,0.6) !important;
}

/* Keep text and muted text readable on dark surfaces */
html.dark .event-title, html.dark .card .text-xs, html.dark .cozy-card .text-sm { color: var(--brand-900) !important; }
html.dark .event-desc, html.dark .muted-sm, html.dark .text-muted, html.dark .muted { color: var(--muted-600) !important; }

/* Soften bright inner glows: reduce white highlights that show on dark */
html.dark .card-header, html.dark .modal-panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-color: rgba(255,255,255,0.03); }

/* TaskForm styles (Any.do-like modal) */
.task-form { display:flex; flex-direction:column; gap:12px; }
.task-header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.task-title-input input { width: 520px; max-width: calc(100% - 120px); font-size:18px; font-weight:700; border: none; }
.task-actions { display:flex; gap:8px; align-items:center; }
.task-meta { display:flex; gap:8px; align-items:center; }
.task-meta .pill { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background: rgba(15,23,42,0.06); }
.task-notes { min-height: 84px; border-radius:8px; padding:10px; border:1px solid rgba(2,6,23,0.04); }
.task-section { display:flex; flex-direction:column; gap:8px; }
.section-label { font-weight:700; color:var(--muted-700); font-size:0.9rem; }
.subtasks { display:flex; flex-direction:column; gap:8px; }
.subtask { display:flex; gap:8px; align-items:center; }
.subtask .subtask-text { flex:1; }
.subtask-add { display:flex; gap:8px; align-items:center; }
.attach-drop { display:flex; align-items:center; justify-content:center; border:1px dashed rgba(2,6,23,0.06); padding: 16px; border-radius:8px; }
.attach-list { margin:0; padding:0; list-style:none; }
.task-form-actions { display:flex; gap:8px; }

@media (max-width: 800px) {
	.task-title-input input { width: 100%; }
}


@media (max-width: 920px) {
	.overview-panel { grid-template-columns: 1fr; }
	.stats-row { flex-direction: row; justify-content:space-between; gap:10px; }
	.hero-brand .brand-mark { width:56px; height:56px; }
}

/* Small utilities used in Overview */
.mt-2 { margin-top: 8px !important; }
.mt-3 { margin-top: 16px !important; }
.ml-2 { margin-left: 8px !important; }
.cozy-btn { padding: 8px 12px; }
.brand-mark { display:inline-flex; align-items:center; justify-content:center; }
.landing-root { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; color: var(--text-900); }
.landing-nav .brand-text { font-weight:700; font-size:15px; }
.muted-sm { color: var(--muted-600); font-size:12px; }

/* make KPI chips slightly smaller on compact screens and stack cards vertically */
@media (max-width: 920px) {
	.kpi-card { padding:12px; }
	.kpi-chip { width:44px; height:44px; }
}

@media (max-width: 560px) {
	.kpi-row { flex-direction: column; }
}

/* Event card visuals */
.event-card { display:flex; gap:12px; align-items:flex-start; padding:12px; border-radius:12px; background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); box-shadow: 0 6px 20px rgba(2,6,23,0.04); transition: transform 180ms ease, box-shadow 180ms ease; }
.event-card.compact { padding:10px; }
.event-card:hover { transform: translateY(-6px); box-shadow: 0 18px 48px rgba(2,6,23,0.08); }
.event-chip { width:48px; height:48px; border-radius:8px; display:flex; align-items:center; justify-content:center; color:white; font-weight:800; flex-shrink:0; }
.event-chip-initials { font-size:12px; }
.event-body { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex:1; min-width:0; }
.event-main { flex:1; min-width:0; }
.event-title { font-weight:700; color:var(--brand-900); font-size:15px; margin-bottom:4px; white-space:normal; }
.event-meta { display:flex; gap:8px; color:var(--muted-500); font-size:12px; align-items:center; margin-bottom:6px; }
.event-time { font-variant-numeric: tabular-nums; }
.event-location { opacity:0.9; }

/* ------------------------------------------------------------------
	 Form control neutralization (scoped)
	 - Applies only when the active daisyUI theme is not 'dark'.
	 - Keeps form controls readable under the configured light theme
		 while allowing intentional component backgrounds (buttons, brand)
		 to continue rendering.
	 ------------------------------------------------------------------ */

:root:not([data-theme='dark']) input[type="text"],
:root:not([data-theme='dark']) input[type="email"],
:root:not([data-theme='dark']) input[type="number"],
:root:not([data-theme='dark']) input[type="search"],
:root:not([data-theme='dark']) input[type="date"],
:root:not([data-theme='dark']) input[type="time"],
:root:not([data-theme='dark']) select,
:root:not([data-theme='dark']) textarea,
:root:not([data-theme='dark']) .select,
:root:not([data-theme='dark']) .input,
:root:not([data-theme='dark']) .form-control {
	background-color: var(--card-bg) !important;
	color: #0b1220 !important; /* strong dark text for contrast */
	border-color: rgba(2,6,23,0.08) !important;
	box-shadow: none !important;
	background-image: none !important;
}

/* Ensure placeholder text is muted but readable */
:root:not([data-theme='dark']) input::placeholder,
:root:not([data-theme='dark']) textarea::placeholder {
	color: #9aa0a6 !important;
	opacity: 1 !important;
}

/* Keep native dropdown arrow/appearance in light theme */
:root:not([data-theme='dark']) select,
:root:not([data-theme='dark']) .select {
	-webkit-appearance: menulist-button !important;
	-moz-appearance: menulist-button !important;
	appearance: menulist-button !important;
}

/* Keep the color-scheme set to light for non-dark themes */
:root:not([data-theme='dark']) {
	color-scheme: light !important;
}
.event-desc { color:var(--muted-600); font-size:13px; margin-top:6px; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; line-clamp: 2; }
.event-actions { display:flex; align-items:center; gap:8px; margin-left:12px; }
.event-actions .btn { padding:6px 8px; font-size:13px; }

@media (max-width: 720px) {
	.event-card { padding:10px; }
	.event-chip { width:40px; height:40px; }
	.event-title { font-size:14px; }
}

.section-title { font-size: 1.25rem; margin: 8px 0 16px; font-weight:700; color:var(--brand-900); padding-top: 15px; }
.feature-grid { display:grid; grid-template-columns: repeat(3,1fr); gap:16px; }
.feature { padding:18px; border-radius: 10px; text-align:left; }
.feature { transition: transform 220ms cubic-bezier(.2,.9,.25,1), box-shadow 220ms; }
.feature:hover { transform: translateY(-6px); box-shadow: 0 18px 48px rgba(2,6,23,0.06); }
.feature h3 { margin:0 0 8px; font-size:1.05rem; }

.site-footer { margin-top: 48px; padding: 28px 0; background: transparent; }
.footer-inner { display:flex; justify-content:space-between; color: var(--muted-500); font-size:0.95rem; }

/* Button variants for landing */
.btn { display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; font-weight:600; text-decoration:none; }
.btn-primary { background: linear-gradient(90deg,var(--accent-indigo-600),#6366f1); color: white; box-shadow: 0 12px 36px rgba(79,70,229,0.12); }
.btn-outline { border:1px solid rgba(2,6,23,0.06); color: var(--brand-600); background: white; }
.btn-ghost { color: var(--muted-700); background: transparent; border:1px solid transparent; }
.btn:focus { outline: 4px solid rgba(79,70,229,0.12); outline-offset: 3px; }

/* Light modal skin (default) â€” subtle rounded panel */
.modal-dialog { background: var(--card-bg); color: var(--brand-900); padding: 18px; border-radius: 12px; box-shadow: 0 12px 36px rgba(2,6,23,0.06); }
.modal-header { border-bottom: 1px solid rgba(2,6,23,0.04); padding-bottom: 10px; }
.modal-header h3 { color: var(--brand-900); font-size: 20px; }
.modal-close { color: var(--muted-700); background: transparent; border: none; }
.modal-body { background: transparent; color: var(--muted-700); padding-top: 12px; }
.modal-overlay { background: rgba(2,6,23,0.22); }

/* subtle content animation */
.modal-dialog { transform-origin: center; transition: transform 220ms cubic-bezier(.2,.9,.25,1), opacity 200ms ease; }
.modal-portal[aria-hidden="false"] .modal-dialog { transform: translateY(0) scale(1); opacity: 1; }

/* TaskForm modern styles */
.task-form { background: transparent; }
.task-title-input input { background: transparent; color: var(--brand-900); }
.task-meta input[type="date"], .task-meta input[type="time"] { border-radius: 8px; padding: 8px 10px; border: 1px solid rgba(2,6,23,0.04); background: white; color: var(--brand-900); }
.attach-drop { background: transparent; color: var(--muted-700); border: 1px dashed rgba(2,6,23,0.06); }
.attach-list { color: var(--muted-700); }
.subtask { background: rgba(2,6,23,0.02); padding: 8px; border-radius: 8px; }

/* make modal actions horizontal on wide screens */
@media (min-width: 640px) {
	.modal-actions { flex-direction: row; justify-content: flex-end; }
}

/* week arrow-only controls */
.week-arrow { width: 36px; height: 36px; display:inline-flex; align-items:center; justify-content:center; border-radius:8px; }
.week-arrow:hover { background: rgba(15,23,42,0.04); }

/* subtle entry animations */
.hero-left { animation: fadeUp 520ms cubic-bezier(.2,.9,.25,1) both; }
.hero-mock { animation: fadeUp 640ms cubic-bezier(.2,.9,.25,1) both; }

/* small screens - make nav compact */
@media (max-width: 560px) {
	.nav-right { display:flex; gap:8px; align-items:center; }
	.brand { font-size: 1rem; }
}

/* Illustration and testimonials */
.hero-illustration { padding: 22px; border-radius: 12px; background: var(--card-bg); position: relative; overflow: hidden; }
.illustration-svg { width: 100%; height: auto; display: block; }

.testimonials { padding: 36px 0 8px; }
.testimonial-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
.testimonial { padding: 18px; border-radius: 10px; }
.testimonial .testimonial-meta { margin-top: 12px; color: var(--muted-500); font-size: 0.95rem; font-weight:600; }

@media (max-width: 920px) { .testimonial-grid { grid-template-columns: 1fr; } }

/* CTA micro-interaction */
.btn-primary:hover { transform: translateY(-3px) scale(1.02); }
.btn-ghost:hover { text-decoration: underline; }

@media (max-width: 920px) {
	.hero-grid { grid-template-columns: 1fr; padding: 36px 0; }
	.feature-grid { grid-template-columns: 1fr; }
	.nav-right { gap:8px; }
	.container { padding: 0 16px; }
}

.cozy-btn {
	background: transparent;

/* Compact corporate header for Overview */
.hero-compact { display:flex; align-items:center; justify-content:space-between; gap:18px; padding: 12px 12px; background: transparent; }
.hero-left { display:flex; align-items:center; gap:12px; }
.hero-copy { display:flex; flex-direction:column; }
.hero-greet { font-size:18px; }
.hero-kpis { display:flex; gap:10px; align-items:center; }
.kpi-card { display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:10px; border:1px solid rgba(2,6,23,0.04); background: var(--card-bg); }
.kpi-card-body { display:flex; flex-direction:column; }

/* Main two-column grid for the dashboard */
.dashboard-main-grid { display:grid; grid-template-columns: 1fr 1.45fr; gap: 22px; margin-top: 14px; }
.left-timeline .timeline-card { border-radius:12px; padding:12px; background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); box-shadow: 0 8px 28px rgba(2,6,23,0.04); }
.timeline-header h3 { margin:0 0 6px 0; }
.timeline-body { display:flex; flex-direction:column; gap:12px; }
.timeline-item { display:flex; gap:12px; align-items:flex-start; }
.timeline-item-date { min-width:96px; color:var(--muted-500); font-size:13px; }
.timeline-item-body { flex:1; }

/* Right focal card holding week + agenda */
.focal-card { border-radius:12px; padding:14px; background: var(--card-bg); border:1px solid rgba(2,6,23,0.04); box-shadow: 0 12px 36px rgba(2,6,23,0.06); }
.focal-header { display:flex; align-items:center; gap:12px; }
.focal-week { margin-top:12px; margin-bottom:12px; }
.focal-agenda { margin-top:6px; }

@media (max-width: 980px) {
	.dashboard-main-grid { grid-template-columns: 1fr; }
	.left-timeline { order: 2; }
	.right-focal { order: 1; }
}
	color: var(--muted-700);
	border: 1px solid rgba(15,23,42,0.06);
	padding: 0.5rem 0.75rem;
	border-radius: 0.6rem;
}


	/* week-pill preview and meta */
	.week-pill { position: relative; overflow: visible; }
	.week-pill-main { display:flex; flex-direction:column; align-items:center; }
	.week-pill-meta { margin-top:6px; color:#9ca3af; font-weight:600; font-size:0.78rem; }
	/* count badge positioned top-right inside the pill */
	.week-pill-badge { position: absolute; top:6px; right:8px; background: rgba(79,70,229,0.08); color: #4f46e5; padding:4px 6px; border-radius:999px; font-weight:700; font-size:0.72rem; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); }

	.week-pill .preview-time { color:#9ca3af; margin-bottom:6px; font-size:0.78rem; }
	.week-pill .preview-title { font-weight:700; color:var(--muted-700); font-size:0.95rem; }
	.week-pill .preview-course { margin-top:6px; display:flex; gap:8px; align-items:center; }
	.week-pill .preview-course .color-chip { width:10px; height:10px; border-radius:999px; display:inline-block; }

	/* compact tweaks: hide preview to save space */
	.event-card-inner.compact ~ .week-strip .week-pill .week-pill-preview { display:none; }
.cozy-card { border-radius: 1rem; box-shadow: 0 10px 30px rgba(99,102,241,0.06); }

.cozy-input {
	background: var(--card-bg);
	border: 1px solid rgba(99,102,241,0.06);
	padding: 0.5rem 0.75rem;
	border-radius: 0.75rem;
	outline: none;
}
.cozy-input:focus {
	box-shadow: 0 6px 18px rgba(124,58,237,0.12);
	border-color: rgba(124,58,237,0.5);
}

.cozy-modal {
	border-radius: 1rem;
	box-shadow: 0 20px 50px rgba(48,45,79,0.08);
}

/* Site sidebar that visually matches the header highlight */
.site-sidebar {
	background: var(--card-bg); /* use variable so dark mode automatically adapts */
	color: var(--brand-900);
}

.site-sidebar .card, .site-sidebar .week-pill, .site-sidebar .cozy-input {
	background: var(--card-bg);
}
/* subtle hover for nav items in dark mode */
html.dark .site-sidebar a:hover, html.dark .site-sidebar .hover\:bg-white\/40:hover { background-color: rgba(255,255,255,0.03) !important; }

.site-sidebar .text-indigo-600, .site-sidebar .text-indigo-700 {
	color: var(--accent-indigo-600);
}

.site-sidebar .btn-primary {
	background: var(--accent-indigo-600);
	border: 1px solid rgba(79,70,229,0.06);
}

/* Dark-mode specific tweaks for the sidebar to increase contrast */
html.dark .site-sidebar {
	background: linear-gradient(180deg, rgba(7,10,20,0.88), rgba(6,8,20,0.94));
	border-color: rgba(255,255,255,0.04);
}
html.dark .site-sidebar .card, html.dark .site-sidebar .cozy-input {
	background: var(--card-bg);
	border-color: rgba(255,255,255,0.04);
}
html.dark .site-sidebar .text-indigo-600, html.dark .site-sidebar .text-indigo-700 {
	color: var(--accent-indigo-500);
}
html.dark .site-sidebar .profile-btn { background: linear-gradient(180deg, rgba(124,58,237,0.06), rgba(79,70,229,0.03)); color: var(--accent-indigo-300); }

/* Sidebar profile / footer styles - cozy, modern card */
.sidebar-profile {
	display: flex;
	align-items: center;
	gap: 12px;
	background: var(--card-bg);
	border: 1px solid rgba(15,23,42,0.03);
	padding: 10px;
	border-radius: 0.75rem;
}

.sidebar-avatar {
	box-shadow: 0 8px 20px rgba(15,23,42,0.04);
}

.profile-actions a, .profile-actions button {
	font-size: 0.78rem;
}

.profile-actions a { color: var(--accent-indigo-600); }
.profile-actions button { color: #ef4444; background: transparent; border: none; padding: 0; cursor: pointer; }

.site-sidebar .w-8, .site-sidebar .w-10 { background: transparent; }

.site-sidebar button[aria-label="Open user menu"] { background: transparent; }

/* Profile button visuals */
.profile-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 6px 8px;
	border-radius: 0.55rem;
	background: linear-gradient(180deg, rgba(124,58,237,0.06), rgba(79,70,229,0.03));
	color: var(--accent-indigo);
	border: 1px solid rgba(79,70,229,0.06);
	transition: transform 140ms ease, box-shadow 140ms ease, background 160ms ease;
}
.profile-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(79,70,229,0.06); }
.profile-btn:active { transform: translateY(0); }
.profile-btn.danger { background: linear-gradient(180deg, rgba(239,68,68,0.06), rgba(239,68,68,0.03)); color: #ef4444; border: 1px solid rgba(239,68,68,0.06); }

/* Avatar subtle hover + focus glow */
.sidebar-avatar { transition: transform 180ms ease, box-shadow 180ms ease; }
.sidebar-avatar:hover, .sidebar-avatar:focus { transform: translateY(-2px); box-shadow: 0 14px 40px rgba(15,23,42,0.08); }

/* Collapsed avatar button styling */
.site-sidebar button[aria-label="Open user menu"] { padding: 6px; border-radius: 0.7rem; transition: transform 140ms ease, box-shadow 140ms ease; }
.site-sidebar button[aria-label="Open user menu"]:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(2,6,23,0.06); }
.site-sidebar button[aria-label="Open user menu"]:focus { outline: 3px solid rgba(124,58,237,0.12); outline-offset: 2px; }

/* small popover card for collapsed profile */
.site-sidebar .card[role="menu"] { box-shadow: 0 12px 30px rgba(2,6,23,0.08); border-radius: 0.6rem; }



/* softer backdrop and modal animation */
.modal-backdrop {
	background: rgba(7,10,20,0.10); /* lighter dim */
	/* remove or drastically reduce blur for accessibility and clarity */
	backdrop-filter: none;
}

@keyframes modalPop {
	from { opacity: 0; transform: translateY(8px) scale(.98); }
	to { opacity: 1; transform: translateY(0) scale(1); }
}
.modal-enter {
	animation: modalPop 280ms cubic-bezier(.2,.9,.25,1) both;
}

@keyframes modalExit {
	from { opacity: 1; transform: translateY(0) scale(1); }
	to { opacity: 0; transform: translateY(8px) scale(.98); }
}
.modal-exit { animation: modalExit 180ms ease both; }

.modal-panel { transition: box-shadow 160ms ease, transform 160ms ease, opacity 160ms ease; }
.modal-exit .modal-panel, .modal-exit .modal-body { opacity: 0.0; transform: translateY(6px) scale(.995); }
.modal-exit { box-shadow: 0 6px 18px rgba(2,6,23,0.06); border-left: 8px solid var(--modal-accent); }

.color-chip { width: 12px; height: 12px; border-radius: 999px; display:inline-block; }

/* modal header accent and inner glow */
.modal-header {
  display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; border-bottom:1px solid rgba(14,20,32,0.04);
}
.modal-title { font-size:1.125rem; font-weight:600; color:var(--muted-700); }
.modal-accent { display:flex; align-items:center; gap:8px; }
.modal-panel { padding:20px; }

/* richer modal panel visuals to reduce 'flat white' look */
.modal-panel {
	background: linear-gradient(180deg, var(--surface), var(--card-bg));
	border: 1px solid rgba(14,20,32,0.04);
	box-shadow: 0 24px 60px rgba(2,6,23,0.08), inset 0 1px 0 rgba(255,255,255,0.6);
	border-radius: 0.9rem;
}
.modal-header { background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0)); padding: 14px 18px; }
.modal-title { color: var(--muted-700); }

/* subtle inner card shadow for modal body */
.modal-body { background: var(--card-bg); border-radius: 0.75rem; padding: 16px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 8px 24px rgba(2,6,23,0.04); }
.modal-body { color: var(--muted-700); }

/* Modal polished visuals */
.modal-body { outline: none; min-height: 120px; padding: 20px; }
.modal-panel { border-radius: 0.75rem; overflow: visible; }
.modal-enter { transform-origin: center top; }
.modal-panel { box-shadow: 0 18px 48px rgba(2,6,23,0.08); }

/* make header stand out */
.modal-header { background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0)); padding: 12px 16px; }
.modal-title { font-size: 1.125rem; }

/* primary button gradient for a bit more life (styled below) */

/* simple spinner */
.spinner { width:18px; height:18px; border-radius:999px; border:2px solid rgba(255,255,255,0.25); border-top-color: rgba(255,255,255,0.9); animation: spin 800ms linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* toast slide in/out */
.toast-enter { transform: translateY(10px); opacity: 0; animation: toastIn 360ms cubic-bezier(.2,.9,.25,1) forwards; }
.toast-exit { animation: toastOut 300ms ease forwards; }
@keyframes toastIn { to { transform: translateY(0); opacity: 1; } }
@keyframes toastOut { to { transform: translateY(10px); opacity: 0; } }

.toast { min-width: 140px; border-radius: 0.6rem; box-shadow: 0 10px 30px rgba(2,6,23,0.06); padding: 0.5rem 0.75rem; }
.toast .underline { text-decoration: underline; }

.focus-ring {
	outline: none;
	box-shadow: none;
}

/* Use :focus-visible to show the ring only for keyboard/tab focus */

/* Overview / dashboard helpers */
.stat-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 12px; }
.stat-card { padding: 14px; border-radius: 12px; background: var(--card-bg); border: 1px solid rgba(15,23,42,0.04); box-shadow: 0 8px 24px rgba(2,6,23,0.03); transition: transform 180ms ease, box-shadow 180ms ease, border-color 160ms ease; }
.stat-card:hover { transform: translateY(-4px); box-shadow: 0 18px 48px rgba(2,6,23,0.06); }
.stat-chip { width:44px; height:44px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; color:#fff; font-weight:700; box-shadow: 0 6px 18px rgba(16,24,40,0.06); }

/* slightly larger chip for better visual weight */
.stat-chip { width:52px; height:52px; border-radius:12px; font-size:14px; }
.stat-value { font-size: 1.25rem; font-weight: 800; color: var(--brand-900); }
.stat-hint { color: var(--muted-500); font-size: 0.85rem; margin-top:6px; }

/* corporate card surface used in overview (more subtle) */
.corporate-card { background: var(--card-bg); border: 1px solid rgba(15,23,42,0.04); border-radius: 12px; box-shadow: 0 10px 30px rgba(2,6,23,0.04); transition: transform 180ms ease, box-shadow 180ms ease; }
.corporate-card:hover { transform: translateY(-4px); box-shadow: 0 22px 48px rgba(2,6,23,0.06); }

/* event list item elevation and focus-visible ring */
.event-card-list-item { transition: transform 160ms ease, box-shadow 160ms ease, background 160ms; border-radius: 10px; background: var(--card-bg); padding: 10px 12px; border: 1px solid rgba(15,23,42,0.03); }
.event-card-list-item:hover { transform: translateY(-6px); box-shadow: 0 18px 48px rgba(2,6,23,0.06); }
.event-card-list-item:active { transform: translateY(0); }
.event-card-list-item:focus-visible { outline: 3px solid rgba(79,70,229,0.12); outline-offset: 4px; }

/* Week strip responsive: allow wrapping on narrow viewports */
.week-strip { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.week-strip button { min-width: 64px; padding: 8px 10px; }

@media (max-width: 720px) {
	.stat-grid { grid-template-columns: 1fr; }
	.hero-grid { grid-template-columns: 1fr; }
	.stat-grid .stat-card { padding: 12px; }
	.week-strip { justify-content: flex-start; }
}

/* small animated helpers */
@keyframes fadeUp {
	from { opacity: 0; transform: translateY(8px); }
	to { opacity: 1; transform: translateY(0); }
}
.fade-up { animation: fadeUp 360ms cubic-bezier(.2,.9,.25,1) both; }

/* small event chip used in list items */
.event-chip { width:42px; height:42px; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; box-shadow: 0 6px 18px rgba(16,24,40,0.04); }

/* mini event mock inside hero */
.hero-mock { border: 1px solid rgba(15,23,42,0.04); border-radius: 10px; box-shadow: 0 10px 30px rgba(2,6,23,0.04); padding: 8px; background: var(--card-bg); }
.mini-event .mini-chip { box-shadow: 0 6px 18px rgba(16,24,40,0.04); }
.mini-event .text-sm { color: var(--muted-500); }

.hero-right { max-width: 420px; }
.hero-cta a + a { margin-left: 10px; }

/* week pill accent (small dot) defaults */
.week-pill-accent { width:10px; height:10px; border-radius:999px; margin-bottom:6px; background: rgba(79,70,229,0.12); display:block; }
.week-pill--active .week-pill-accent, .week-strip button[aria-pressed='true'] .week-pill-accent { background: var(--accent-indigo-600); box-shadow: 0 8px 24px rgba(79,70,229,0.08); }

/* Corporate card surface used on overview */
.corporate-card { background: var(--card-bg); border: 1px solid rgba(15,23,42,0.04); border-radius: 12px; box-shadow: 0 10px 30px rgba(2,6,23,0.04); }
.stat-value { color: var(--text-900); font-weight: 800; }

.text-muted { color: var(--muted-500); }

/* Week strip pill visuals */
.week-pill { transition: transform 160ms ease, box-shadow 160ms ease; }
.week-pill:hover { transform: translateY(-4px); box-shadow: 0 12px 36px rgba(2,6,23,0.06); }
.week-pill:focus { outline: 3px solid rgba(79,70,229,0.12); outline-offset: 2px; }

/* Event list item hover */
.event-card-list-item { background: transparent; }
.event-card-list-item:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(2,6,23,0.06); }

:where(.focus-ring):focus-visible {
	outline: 4px solid rgba(79,70,229,0.18);
	outline-offset: 3px;
	box-shadow: 0 6px 20px rgba(79,70,229,0.08);
}

.cozy-card .text-sm { color: #525252; }

.card {
	background: var(--card-bg);
	border-radius: 0.75rem;
	box-shadow: 0 6px 18px rgba(14, 20, 32, 0.04);
	padding: 0.75rem;
	border: 1px solid rgba(15,23,42,0.03);
}

.card .text-xs { color: #6b7280; }
.card button { text-align: left; }

.card-accent {
	border-left: 3px solid rgba(79,70,229,0.12);
	padding-left: 0.75rem;
}


.btn-primary {
	background: var(--accent-indigo-600);
	color: white;
	padding: 0.5rem 0.9rem;
	border-radius: 0.6rem;
	box-shadow: 0 8px 18px rgba(79,70,229,0.08);
	border: 1px solid rgba(79,70,229,0.06);
	transition: transform 120ms ease, box-shadow 120ms ease;
}
.btn-primary:hover { transform: translateY(-1px); box-shadow: 0 12px 30px rgba(79,70,229,0.08); }

.btn-secondary {
	background: white;
	border: 1px solid #e6edf3;
	color: var(--muted-700);
	padding: 0.45rem 0.9rem;
	border-radius: 0.6rem;
}


@keyframes fadeUp {
	from { opacity: 0; transform: translateY(6px); }
	to { opacity: 1; transform: translateY(0); }
}

@keyframes subtleBounce {
	0% { transform: translateY(0); }
	
	50% { transform: translateY(-4px); }
	100% { transform: translateY(0); }
}

.btn-ghost { transition: transform 180ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms; }
.btn-ghost:hover { transform: translateY(-1px); box-shadow: 0 8px 18px rgba(2,6,23,0.04); background: rgba(15,23,42,0.02); }

@keyframes blobFloat {
	0% { transform: translateY(0) scale(1); }
	50% { transform: translateY(-8px) scale(1.03); }
	100% { transform: translateY(0) scale(1); }
}

.animate-subtle { animation: blobFloat 6s ease-in-out infinite; }

.blur-3xl { filter: none; }

/* Event list visuals */
.event-search { padding: 0.5rem 0.75rem; border-radius: 0.6rem; border: 1px solid rgba(15,23,42,0.06); }
.event-list { display:flex; flex-direction:column; gap:0.6rem; margin-top:0.6rem; }
.event-item { background: var(--card-bg); border-radius: 0.75rem; padding: 0.6rem; box-shadow: 0 8px 24px rgba(2,6,23,0.04); transition: transform 180ms ease, box-shadow 180ms ease; }
.event-item:hover { transform: translateY(-4px); box-shadow: 0 18px 48px rgba(2,6,23,0.06); }

.card { background: var(--card-bg); border-radius: 0.75rem; padding: 0.9rem; box-shadow: 0 6px 18px rgba(2,6,23,0.04); }
.card-accent { border-left: 4px solid rgba(99,102,241,0.12); }
.card .font-semibold { font-size: 0.98rem; }
.cozy-hero { color: var(--text-900); }

/* Agenda polishing */
.card .muted { color: #6b7280; }
.agenda-header { display:flex; align-items:center; justify-content:space-between; gap:8px }
.agenda-search { width:100%; padding:8px 10px; border-radius:8px; border:1px solid rgba(15,23,42,0.04); background:var(--surface); }
.week-strip button { transition: transform 160ms ease, box-shadow 160ms ease; }
.week-strip button:hover { transform: translateY(-3px); box-shadow: 0 8px 18px rgba(2,6,23,0.06); }
.event-list { display:flex; flex-direction:column; gap:0.6rem; margin-top:0.6rem; }
.event-item { padding:0.8rem; border-radius:0.6rem; background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(250,250,250,0.8)); border:1px solid rgba(14,20,32,0.03); }
.event-item .course-pill { padding:2px 8px; border-radius:999px; background: rgba(99,102,241,0.08); color: #4f46e5; font-size: 0.75rem; }

.hero-mock {
	position: relative;
	overflow: hidden;
	border: 1px solid rgba(15,23,42,0.04);
	border-radius: 10px;
	box-shadow: 0 10px 30px rgba(2,6,23,0.04);
	padding: 8px;
	background: var(--card-bg);
}

/* Redesigned event card hierarchy */
.event-title {
	color: var(--muted-700);
	font-weight: 700;
	font-size: 1rem;
	line-height: 1.18;
	margin-bottom: 4px;
}
.event-desc {
	color: #6b7280;
	font-size: 0.95rem;
	line-height: 1.35;
	/* clamp description to two lines for tidy cards */
	display: -webkit-box;
	-webkit-line-clamp: 2;
	/* standard property for compatibility */
	line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}
.time-chip { background: linear-gradient(180deg, rgba(79,70,229,0.12), rgba(79,70,229,0.06)); color: #3b2bb0; padding:6px 10px; border-radius:999px; font-weight:700; font-size:0.85rem; box-shadow: 0 6px 20px rgba(79,70,229,0.06); }
.time-col .text-xs { color: #9ca3af; }

/* Compact mode tweaks */
.event-card-inner.compact .event-title { font-weight:600; }
.event-card-inner.compact .event-desc { display:none; }
.event-card-inner.compact .course-pill { padding:4px 6px; font-size:11px; }
.event-card-inner.compact .time-chip { padding:4px 8px; font-size:0.75rem; }

/* Make the card feel more structured */
.event-top { align-items:flex-start; }
.event-card-inner .flex-1 { background: var(--card-bg); border-radius:0.8rem; border: 1px solid rgba(15,23,42,0.04); box-shadow: 0 6px 18px rgba(2,6,23,0.04); transition: box-shadow 160ms ease, transform 160ms ease; }
.event-card-inner .flex-1:hover { transform: translateY(-2px); box-shadow: 0 12px 30px rgba(2,6,23,0.06); }

/* Agenda buckets and empty state */
.agenda-empty { display:flex; flex-direction:column; align-items:center; justify-content:center; background: var(--card-bg); border:1px dashed rgba(99,102,241,0.08); padding:1rem; border-radius:0.75rem; }
.agenda-empty svg { width:120px; height:80px; opacity:0.98; }
.event-list .text-xs.font-semibold { letter-spacing:0.02em; }
.event-list .space-y-2 > .event-item { margin-left: 6px; }

/* Section header */
.event-list > div .text-xs.text-gray-500 { text-transform: uppercase; font-size: 0.72rem; }

/* Week pill: flat & minimal */
.week-pill {
	display:inline-flex;
	align-items:center;
	gap:8px;
	min-width:56px; /* reduced to allow tighter wrapping */
	padding:8px 10px;
	border-radius:10px;
	background: var(--card-bg);
		/* no visible border (flat look) */
		border: none;
	/* no inset rings or heavy shadows */
		box-shadow: none;
	color: var(--muted-700);
	position: relative;
	transition: background 120ms ease, border-color 120ms ease, transform 120ms ease, box-shadow 120ms ease;
}
.week-pill:hover, .week-pill:focus-visible {
	background: rgba(15,23,42,0.02);
	transform: translateY(-1px);
	/* keep flat: no shadow or border on hover */
	box-shadow: none;
}
.week-pill:active {
	transform: translateY(0);
}
.week-pill--active,
.week-strip button[aria-pressed='true'] {
	/* active state: slightly lighter background only, no border or halo */
	background: linear-gradient(90deg, rgba(250,250,250,1), rgba(253,253,253,1));
	border: none;
	box-shadow: none;
}
.week-pill .week-pill-date {
	font-size: 1.02rem;
	font-weight: 700;
	color: var(--muted-700);
}
.week-pill .week-pill-weekday {
	color: #8b8f9d;
	font-size:0.78rem;
	font-weight: 600;
}
.week-pill .week-pill-count {
	color: #9ca3af;
	font-weight:700;
	font-size:0.78rem;
}
.week-pill:focus {
	/* accessible visible focus for keyboard users */
	outline: 3px solid rgba(124,58,237,0.18);
	outline-offset: 3px;
	box-shadow: 0 8px 20px rgba(124,58,237,0.06);
}
.week-pill-badge {
 	position: absolute;
 	top: 8px;
 	right: 10px;
 	background: rgba(124,58,237,0.10);
 	color: var(--accent-indigo-600);
 	padding: 4px 7px;
 	border-radius: 999px;
 	font-weight: 700;
 	font-size: 0.72rem;
}
.week-pill-accent {
	/* small color dot inside the pill */
	width:10px;
	height:10px;
	border-radius:999px;
	margin-left: 6px;
	margin-right: 8px;
	box-shadow: none;
	flex-shrink: 0;
	border: none;
}

/* accent lift on hover to give pills a bit of life */
.week-pill:hover .week-pill-accent,
.week-strip button:focus .week-pill-accent {
	transform: translateY(-3px) scale(1.06);
	transition: transform 220ms cubic-bezier(.2,.9,.25,1);
}

.week-pill--active .week-pill-accent,
.week-strip button[aria-pressed='true'] .week-pill-accent {
	box-shadow: 0 10px 30px rgba(99,102,241,0.08);
	transform: translateY(-2px) scale(1.04);
}

/* stronger selected pill visuals */
.week-strip button[aria-pressed='true'] {
	border: 1px solid rgba(79,70,229,0.12);
	box-shadow: 0 18px 48px rgba(79,70,229,0.06);
	background: linear-gradient(90deg, rgba(99,102,241,0.06), rgba(79,70,229,0.03));
}




/* Timeline layout */
.event-card-inner.timeline { display:flex; align-items:stretch; }
.timeline-col { width:54px; display:flex; align-items:flex-start; justify-content:center; }
.timeline-dot { width:10px; height:10px; border-radius:999px; box-shadow: 0 6px 14px rgba(2,6,23,0.04); border: 2px solid var(--card-bg); margin-top:6px; }
.timeline-line { width:2px; flex:1; background: rgba(15,23,42,0.04); margin-top:6px; margin-bottom:6px; }
.time-bubble { display:inline-block; background: var(--card-bg); border:1px solid rgba(15,23,42,0.06); color:var(--brand-900); padding:6px 10px; border-radius:999px; font-weight:600; box-shadow: 0 8px 20px rgba(2,6,23,0.04); }
.time-block .text-xs { color:#9ca3af; }

/* Compact timeline tweaks */
.event-card-inner.timeline.compact .timeline-col { width:44px; }
.event-card-inner.timeline.compact .timeline-dot { width:8px; height:8px; }
.event-card-inner.timeline.compact .time-bubble { padding:4px 8px; font-size:0.78rem; }

/* Make the timeline visually denser for lists */
.event-list .event-item { padding: 6px 0; }
.event-list .event-item > .event-card-inner .flex-1 { padding: 10px 12px; }

/* Enhanced event card visuals */
.event-card-inner { display:flex; width:100%; align-items:stretch; }
.event-accent { width:6px; border-top-left-radius:8px; border-bottom-left-radius:8px; margin-right:8px; flex-shrink:0; }
.event-card-inner .flex-1 { border-radius:0.5rem; }
.countdown-badge { background: rgba(79,70,229,0.08); color: #4f46e5; padding:6px 10px; border-radius:999px; font-weight:600; font-size:0.8rem; }

.week-strip { display:flex; gap:12px; align-items:center; justify-content:center; }
.week-strip button { min-width:68px; padding:10px 12px; border-radius:0.8rem; background: white; border:1px solid rgba(15,23,42,0.04); }
.week-strip button[aria-pressed='true'], .week-strip button:focus {
	background: linear-gradient(90deg, rgba(250,250,250,1), rgba(253,253,253,1));
	color: var(--muted-700);
	transform: translateY(-3px);
	scale: 1.01;
	box-shadow: 0 10px 28px rgba(2,6,23,0.035);
	border:1px solid var(--pill-accent, rgba(15,23,42,0.06));
}

/* Make event list denser but clearer */
.event-list { display:flex; flex-direction:column; gap:0.6rem; margin-top:0.6rem; }
.event-item { padding:0; background: transparent; box-shadow: none; }
.event-item > .event-card-inner > .flex-1 { padding: 10px; }

/* Compact mode */
.event-card-inner.compact .flex-1 { padding: 6px; }
.event-card-inner.compact .countdown-badge { padding:4px 8px; font-size:0.75rem; }

/* Staggered entrance for event items (stacked list) */
.event-item { opacity: 0; transform: translateY(8px); animation: fadeUp 420ms ease forwards; }
.event-item:nth-child(1) { animation-delay: 40ms; }
.event-item:nth-child(2) { animation-delay: 80ms; }
.event-item:nth-child(3) { animation-delay: 120ms; }
.event-item:nth-child(4) { animation-delay: 160ms; }
.event-item:nth-child(5) { animation-delay: 200ms; }

/* Dashboard-scoped dark-mode override: ensure week pills inside the dashboard stay dark on click */
html.dark .dashboard-week .week-pill,
html.dark .dashboard-week .week-strip button {
	background: linear-gradient(90deg, rgba(20,26,38,1), rgba(14,18,28,1));
	color: var(--muted-100);
	border: 1px solid rgba(255,255,255,0.04);
	box-shadow: 0 12px 34px rgba(2,6,23,0.55);
}

html.dark .dashboard-week .week-pill--active,
html.dark .dashboard-week .week-strip button[aria-pressed='true'] {
	background: linear-gradient(90deg, rgba(18,22,30,1), rgba(12,16,24,1));
	color: var(--muted-100);
	border: 1px solid rgba(255,255,255,0.06);
	box-shadow: 0 14px 44px rgba(2,6,23,0.6);
}

/* keep the small accent visible but subtle in dark dashboard */
html.dark .dashboard-week .week-pill .week-pill-accent,
html.dark .dashboard-week .week-strip button .week-pill-accent {
	background: rgba(124,58,237,0.12);
	box-shadow: none;
}
/* Empty state illustration */
.agenda-empty svg { width: 140px; height: 90px; opacity: 0.95; }
.agenda-empty { display:flex; flex-direction:column; align-items:center; justify-content:center; }

/* Agenda header and empty-state visuals */
.card h2 { display:block; }
.card .text-xs { color: #6b7280; }
.agenda-empty { background: var(--card-bg); border: 1px dashed rgba(99,102,241,0.08); padding: 1rem; border-radius: 0.75rem; }
.agenda-empty .btn-primary { box-shadow: 0 10px 30px rgba(79,70,229,0.08); }
.card .week-range { color: #6b7280; font-size: 0.85rem; }

/* Unified card header band to match page header */
.card {
	position: relative;
	border-radius: 0.9rem;
	background: var(--card-bg);
	box-shadow: 0 8px 20px rgba(2,6,23,0.04);
	overflow: visible;
	padding-top: 12px; /* keep header tight */
	transition: transform 200ms cubic-bezier(.2,.9,.2,1), box-shadow 200ms ease;
}

.card:hover {
	transform: translateY(-6px);
	box-shadow: 0 22px 48px rgba(2,6,23,0.08);
}

.card-header {
	position: relative;
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 12px 16px;
	margin: 0 12px -8px; /* visually lift header above card */
	border-radius: 0.7rem;
	background: linear-gradient(180deg, rgba(250,250,253,0.95), rgba(255,255,255,0.9));
	border: 1px solid rgba(15,23,42,0.04);
	box-shadow: 0 6px 18px rgba(2,6,23,0.03);
}

.card-header .chip {
	width: 36px;
	height: 36px;
	border-radius: 8px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,250,0.6));
	border: 1px solid rgba(15,23,42,0.04);
	box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
}

.card-header .title { font-weight: 700; color: var(--muted-700); font-size: 1rem; }
.card-header .meta { margin-left: auto; color: #6b7280; font-size: 0.85rem; }

/* small accent dot that pulses subtly to add life */
.card-header .accent-dot {
	width: 10px;
	height: 10px;
	border-radius: 999px;
	margin-left: 6px;
	box-shadow: 0 6px 18px rgba(99,102,241,0.06);
	animation: headerPulse 2200ms ease-in-out infinite;
}

@keyframes headerPulse {
	0% { transform: scale(1); opacity: 1; }
	50% { transform: scale(1.16); opacity: 0.85; }
	100% { transform: scale(1); opacity: 1; }
}

.card .card-body { padding: 18px; }

/* Primary button matches header purple */
.btn-primary {
	background: linear-gradient(180deg,#7c3aed,#5b21b6);
	color: white;
	padding: 10px 14px;
	border-radius: 12px;
	box-shadow: 0 8px 22px rgba(124,58,237,0.10);
	border: none;
	transition: transform 120ms ease, box-shadow 120ms ease;
}
.btn-primary:hover {
	transform: translateY(-2px);
	box-shadow: 0 16px 38px rgba(124,58,237,0.14);
}

/* Duplicate/older strong overrides removed to prevent conflicting pill styles. Calmer styles are defined earlier. */

/* Tweak small right-column cards to match */
.card.card-accent { padding-top: 12px; }
.card.card-accent .card-body { padding: 14px; }
/* subtle typography and truncation helpers */
.truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.event-item .text-xs { color: #6b7280; }

/* Strong overrides to ensure preview is hidden unless hovered/focused/active
	 and to enforce purple borders for week pills/buttons across the stylesheet. */


/* (Removed duplicate dark-mode scoped pill rules to keep a single canonical .week-pill style.) */




/* ----- force-light-select helpers (appended for highest precedence) ----- */
/* Keep the closed select visually light and inject a custom chevron */
select.force-light-select {
	-webkit-appearance: none !important;
	-moz-appearance: none !important;
	appearance: none !important;
	padding-right: 2.5rem !important;
	background: #ffffff no-repeat right 0.75rem center/1rem url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%230b1220' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'></polyline></svg>") !important;
	color: #0b1220 !important;
	-webkit-text-fill-color: #0b1220 !important;
	background-clip: padding-box !important;
	border-color: rgba(0,0,0,0.06) !important;
}

/* Hide the native dropdown arrow in IE/Edge */
select.force-light-select::-ms-expand { display: none; }
select.force-light-select::-ms-clear { display: none; }

/* (background image included above in shorthand) */

/* Keep the white surface even when html.dark rules are applied */
html.dark select.force-light-select,
html.dark select.force-light-select:focus {
	background: #ffffff !important;
	color: #0b1220 !important;
	-webkit-text-fill-color: #0b1220 !important;
	border-color: rgba(0,0,0,0.06) !important;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%230b1220' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'></polyline></svg>") !important;
}


